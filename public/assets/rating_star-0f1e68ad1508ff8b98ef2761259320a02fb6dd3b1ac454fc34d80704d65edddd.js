function draw(){var a=Math.round(parseFloat($("#averate").html()));for(i=0;i<a;i++)$("li.star:eq("+i+")").addClass("hover")}$(document).ready(function(){$("#stars li").on("mouseover",function(){var a=parseInt($(this).data("value"),10);$(this).parent().children("li.star").each(function(t){t<a?$(this).addClass("hover"):$(this).removeClass("hover")})}).on("mouseout",function(){$(this).parent().children("li.star").each(function(){$(this).removeClass("hover")}),draw()}),draw(),$("#stars li").on("click",function(){var a=parseInt($(this).data("value")),t=$(this).parent().children("li.star"),e=parseInt($("#pid").html());for(i=0;i<t.length;i++)$(t[i]).removeClass("selected");for(i=0;i<a;i++)$(t[i]).addClass("selected");$.ajax({method:"GET",url:"/rate/"+e+"/"+a,data:{},dataType:"html"}).done(function(a){console.log(a),a=parseFloat(Math.round(100*a)/100).toFixed(1),$("#averate").html(a)})})});